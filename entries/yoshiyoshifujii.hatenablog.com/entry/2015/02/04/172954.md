---
Title: Cacooで書いた画像をSphinxに埋め込む拡張を使ったら便利だった
Category:
- Sphinx
Date: 2015-02-04T17:29:54+09:00
URL: https://yoshiyoshifujii.hatenablog.com/entry/2015/02/04/172954
EditURL: https://blog.hatena.ne.jp/yoshiyoshifujii/yoshiyoshifujii.hatenablog.com/atom/entry/8454420450082436097
---

企画とかモデル図とか、ネットワーク構成図とか、なんやかんやと図を書くときって、
Cacoo最強とか最近思っているのです。

が、Cacooで書いた画像をSphinxだとかPower Pointだとかに貼り付けるときにどうしても
エクスポートして貼るっていうひと手間ふた手間が必要なので、SphinxならAPIだらリンクだらで
何とかなるんじゃね？って思ってぐぐったら、、、

[http://tk0miya.hatenablog.com/entry/2014/08/12/230431:embed]
[http://tk0miya.hatenablog.com/entry/2014/08/12/230431:title]

Sphinx拡張ではいつもお世話になっている id:tk0miya さんのブログに出会いましたので、
早速試させていただきました。

Sphinxって、お試しのハードルが低くってとても便利ですよね。
拡張の作りもシンプルだし。なんだし。

導入手順は、 
[https://bitbucket.org/birkenfeld/sphinx-contrib]
から、ソース -> cacooを開いていただくと書いてあります。

ざっと抜粋させていただくと、以下のとおり。

>|zsh|
pip install sphinxcontrib-cacoo
||<

したあとに、

プロジェクトのconf.pyに、

>|python|
extensions += ['sphinxcontrib.cacoo']
cacoo_apikey = 'your apikey'
||<

を追記するだけ。

あとは、表示したいとこに、

>|rst|
.. cacoo-image:: [diagramId]
||<

って書くだけ。

ほかにも、いろいろあるやーつは、bitbucketか、何ならソース嫁ばいける。

この拡張の真にうれしいのは、Cacooをメインの画像エディタとして使っても、運用乗る気がするところだ。

Cacooって便利なのにメインの画像エディタにするとメンテ性というか長く使うには、いろいろと障害を感じてて、今までこっそり個人的に使うことが多かった。

Sphinxをプロジェクトのメインドキュメントと置いた場合に、Cacooで書いた画像がなんもせんでも反映されるなら、依存性も良い感じに排除されるので、深く長く使い続けることができそうな気がするー。

ただ、CacooのAPIキーをconf.pyに書かないといけないので、そのあたりが若干気になる。
運用乗せる前に、Cacoo側か、Sphinx側、もしくは、Webサーバー側で何らかの手当てをしようと思います。

以上です。
