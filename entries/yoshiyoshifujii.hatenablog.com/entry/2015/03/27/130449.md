---
Title: fluent-plugin-dynamodb がAWS SDK v2で動かないので...
Category:
- AWS
- Fluentd
Date: 2015-03-27T13:04:49+09:00
URL: https://yoshiyoshifujii.hatenablog.com/entry/2015/03/27/130449
EditURL: https://blog.hatena.ne.jp/yoshiyoshifujii/yoshiyoshifujii.hatenablog.com/atom/entry/8454420450089449511
---

今のところ無理やり回避しています。

Amazon Linux AMIを使って、EC2に構築したLinux環境では、AWS SDKがプリインストールされており、どうやらデフォがv2みたい。

せやさかい、 [https://github.com/gonsuke/fluent-plugin-dynamodb:title] を動かそうと思っても、AWS SDK v1で作られてるし、下位互換とかまったくないから、全然動かないんすよね。

で、四苦八苦して、out_dynamodb.rb の、

>|ruby|
require 'aws-sdk'
||<

ってなってるところを、

>|ruby|
require 'aws-sdk-v1'
||<

って変更したら、v1のSDKを読み込むので、問題なく動いた。

Pluginを直接触ってるしあんま良くないから、他の環境側で回避する方法かPlugin自体を何が何でもv1読み込むように修正するかしないとですね。

