---
Title: Sphinxを社内で運用するためのクラサバを考えてる
Category:
- Vagrant
- Jenkins
- Sphinx
Date: 2014-08-23T11:09:45+09:00
URL: https://yoshiyoshifujii.hatenablog.com/entry/2014/08/23/110945
EditURL: https://blog.hatena.ne.jp/yoshiyoshifujii/yoshiyoshifujii.hatenablog.com/atom/entry/12921228815730998126
---

Sphinxを社内で運用するんやけど、サーバーにあんまりお金かけたくないけど、社内のサーバーやとメンテがあれやし、Azure上になんとかできへんかと考えている。

その過程でクライアントについて、導入のネックになる部分として、環境構築がある。

いい感じのクライアントを開発するのも考えられるけど、時間かけたくないし、世にあるいろいろなん組み合わせたら、そこそこ良い感じになりそうなん思いついたし、メモっとく。

また、そのうちやる。

詳細は、以下。

====

1. Vagrantを使う
2. Jenkinsを使う
3. JenkinsにSphinxをビルドするJobをつくる
4. JenkinsにSphinxをコミットするJobをつくる
5. JenkinsにSphinxをPushするJobをつくる
6. JenkinsにSphinxをデプロイするJobをつくる
7. Sphinxを動作確認できるようにする

箇条書きにしたらこんな感じ。

1は、Ubuntu1404LTSにしといて、基本、vagrant upしたあと、OSをさわることは無いようにしておく感じ。

まあ、必要ならSSHなり、GUIなりで、すきにしてもろたら良いけども。
運用は、基本、OSはさわらないイメージ。

2は、Vagrantでインストールしておく。

3-6も用意しとく。

基本、使う人は、Sphinxをエディタで書いて、JenkinsのJobをぽちぽち押して、操作するイメージ。

vagrantでフォルダを共有しとくから、Gitとかは、TortoiseGitを使うことでもいけるよ。

そのあたりのフォルダ構成は、

>||
rootSphinx
 |- Vagrantfile
 |- source
   |- sphinxフォルダ
||<

って感じになってるからいける感じ。

7は、Port Forwardしてやるし、Ubuntu上でnginx動かしておいて、Jenkinsでビルドしたビルド後のフォルダをシンボリックリンク貼っとく感じ。

ざっと、以上は、メモ。

実際にやったら、また報告します。

以上。
