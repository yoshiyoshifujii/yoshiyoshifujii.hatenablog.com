---
Title: SimpleHTTPServerを日本語URIに対応する方法
Category:
- Python
Date: 2014-10-07T13:10:03+09:00
URL: https://yoshiyoshifujii.hatenablog.com/entry/2014/10/07/131003
EditURL: https://blog.hatena.ne.jp/yoshiyoshifujii/yoshiyoshifujii.hatenablog.com/atom/entry/8454420450067891461
---

PythonのSimpleHTTPServerってめちゃ便利ですよね。

HTTPサーバーとしてアクセスしたいディレクトリのパス上で、

>|shell|
$ python -m SimpleHTTPServer
||<

って実行するだけで、 http://localhost:8000 でアクセスできるようになるじゃないですかー。

でも、このSimpleHTTPServerですが、日本語のURIだとうまいこと表示できないんですよね。

たとえば、以下のディレクトリ構成でアクセスした場合なんですけど、

>||
root
  |- index.html
  |- 日本語のでぃれくとり/
    |- index.html
||<

このrootディレクトリ上で、SimpleHTTPServerを実行して、
http://localhost:8000/日本語のディレクトリ
ってURLをブラウザに入力すると、 404エラーになります。

これを解消するために、SimpleHTTPServerのSimpleHTTPRequestHandlerクラスを継承して、拡張して、日本語でも見つかるようにしました。

SimpleHTTPRequestHandler.translate_pathメソッドをオーバーライドしただけっていうシンプルなもんです。

[https://gist.github.com/28314582eeb3b48f469c:embed#Python2.7でSimpleHTTPServerをすると日本語URIが表示されないので表示される ...]
[https://gist.github.com/28314582eeb3b48f469c:title=Python2.7でSimpleHTTPServerをすると日本語URIが表示されないので表示される ...]

以上です。
